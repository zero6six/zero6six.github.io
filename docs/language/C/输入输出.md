
输入的数据在按下回车后在标准输入中是带 \n 的字符串形式。

### getchar() 与 putchar(a)

getchar 就是直接从输入中读取一个字符并返回，因此可能会残留 \n 不读取，putchar 就是输出字符。

### gets(a)

从输入中读取至第一个 \n（包括 \n），存储时以不带 \n 的字符串 +\0 存储。存储至 a。

### [fgets](https://www.runoob.com/cprogramming/c-function-fgets.html)

C 库函数 **char *fgets(char *str, int n, FILE *stream)** 从指定的流 stream 读取一行，并把它存储在 **str** 所指向的字符串内。当读取 **(n-1)** 个字符时，或者读取到换行符时，或者到达文件末尾时，它会停止，具体视情况而定。

**注意：fgets 是==按原样==存储字符的，不会自动转换 \n，也不会添加 \0。在缓存区中以 \n 开头时甚至会将 \n 单独存储进字符串。

```c
// getchar() // 当缓存区中以 \n 开头时
char a[100];
fgets(a, sizeof(a), stdin);
a[strcspn(a, "\n")]='\0'    // 将字符串末尾的 \n 换成 \0。
```

### puts(a)

将字符串 a 输出，第一个 \0 替换成 \n，如果遇不到 \0 则会打印脏数据。

### printf

”%0Nd“ 表示输出 N 位整数，不够自动补 0，而 “%Nd” 表示输出 N 位整数，不够自动补空格，自动补位的只有这两种情况。

printf 需要手动补 \n，且在遇不到 \0 时也会打印脏数据。

"\b" 表示退格键，可以回到行首，之后覆盖输出。

### scanf

scanf 在遇到如下几种情况下停止读取。

1. **格式字符串匹配完成**：当所有格式说明符都匹配完成后，`scanf` 会停止读取。
2. **遇到不匹配的输入**：如果输入的字符与格式说明符不匹配，`scanf` 会停止读取。例如，如果你期望一个整数但输入了一个非数字字符，`scanf` 会停止读取。
3. **遇到输入流的结束**：如果到达输入流的末尾（例如，文件结束或用户输入结束），`scanf` 会停止读取。
4. **遇到空白字符**：对于某些格式说明符（如 `%s`），`scanf` 会在遇到空白字符（空格、制表符、换行符）时停止读取当前输入项。这种情况下，空白字符不消耗。

**注意：空格在格式字符串中的作用相当于匹配 0 或任意多次空白符，在格式字符串末尾时表示消耗多余的空白符。在最后一次读取数据时最后不要加空格，不然会不断消耗空白符导致程序停不下来。**

用 n 指定从缓存区读取 n 位数据，（在遇到空白字符时即使不满 n 位也停止），用 * 指定输入的字符不保存。（`%2d` 表示读取 2 位，`%*d` 表示这个数字读了不存）。

```c
scanf("%[^\n]", a);
// "%[^\n]"的意思是：读取输入直到遇到换行符（\n）为止的所有字符，并将这些字符存储在指定的字符数组中，加一个 \0。
// 行为等同于特殊的 %s，不消耗 \n，读取到的不带\n，会自动加 \0

// 可以用 fgets 代替，但是那样要手动管理 \n
// 可以个 P，XDOJ gets 预编译错误
```

`scanf` 函数的返回值是成功读取并赋值的输入项的数量，善用这个可以检测非法输入。

`scanf("%d\n", &n);` 这么使用会消去缓存中的 \n。

### sprintf

https://www.runoob.com/cprogramming/c-function-sprintf.html

C 库函数 `int sprintf(char *str, const char *format, ...)` 发送格式化输出到 str 所指向的字符串。

```c
char str[20];
sprintf(str, "Pi 的值 = %f", M_PI);
puts(str);
```